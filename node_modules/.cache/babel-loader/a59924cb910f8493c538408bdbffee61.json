{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar React = require('react');\n\nvar core = require('@react-pdf-viewer/core');\n\nvar reactDom = require('react-dom');\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () {\n            return e[k];\n          }\n        });\n      }\n    });\n  }\n\n  n['default'] = e;\n  return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar PrintIcon = function () {\n  return React__namespace.createElement(core.Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19\\n                c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3\\n                M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414\\n                C18.395,3.394,18.5,3.649,18.5,3.914V4.5\\n                M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z\\n                M3.5,8.499\\n                c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z\\n                M14.5,0.499v4h4\"\n  }));\n};\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar TOOLTIP_OFFSET = {\n  left: 0,\n  top: 8\n};\n\nvar PrintButton = function (_a) {\n  var onClick = _a.onClick;\n  var l10n = React__namespace.useContext(core.LocalizationContext);\n  var label = l10n && l10n.print ? l10n.print.print : 'Print';\n  return React__namespace.createElement(core.Tooltip, {\n    position: core.Position.BottomCenter,\n    target: React__namespace.createElement(core.MinimalButton, {\n      onClick: onClick\n    }, React__namespace.createElement(PrintIcon, null)),\n    content: function () {\n      return label;\n    },\n    offset: TOOLTIP_OFFSET\n  });\n};\n\nvar PrintStatus;\n\n(function (PrintStatus) {\n  PrintStatus[\"Inactive\"] = \"Inactive\";\n  PrintStatus[\"Preparing\"] = \"Preparing\";\n  PrintStatus[\"Cancelled\"] = \"Cancelled\";\n  PrintStatus[\"Ready\"] = \"Ready\";\n})(PrintStatus || (PrintStatus = {}));\n\nvar PrintStatus$1 = PrintStatus;\n\nvar Print = function (_a) {\n  var children = _a.children,\n      store = _a.store;\n\n  var print = function () {\n    store.update('printStatus', PrintStatus$1.Preparing);\n  };\n\n  var defaultChildern = function (props) {\n    return React__namespace.createElement(PrintButton, {\n      onClick: props.onClick\n    });\n  };\n\n  var render = children || defaultChildern;\n  return render({\n    onClick: print\n  });\n};\n\nvar PrintProgress = function (_a) {\n  var numLoadedPages = _a.numLoadedPages,\n      numPages = _a.numPages,\n      onCancel = _a.onCancel;\n  var l10n = React__namespace.useContext(core.LocalizationContext);\n  var progress = Math.floor(numLoadedPages * 100 / numPages);\n  return React__namespace.createElement(\"div\", {\n    className: \"rpv-print__progress\"\n  }, React__namespace.createElement(\"div\", {\n    className: \"rpv-print__progress-body\"\n  }, React__namespace.createElement(\"div\", {\n    className: \"rpv-print__progress-message\"\n  }, l10n && l10n.print ? l10n.print.preparingDocument : 'Preparing document ...'), React__namespace.createElement(\"div\", {\n    className: \"rpv-print__progress-bar\"\n  }, React__namespace.createElement(core.ProgressBar, {\n    progress: progress\n  })), React__namespace.createElement(core.Button, {\n    onClick: onCancel\n  }, l10n && l10n.print ? l10n.print.cancel : 'Cancel')));\n};\n\nvar PageThumbnail = function (_a) {\n  var canvas = _a.canvas,\n      page = _a.page,\n      pageHeight = _a.pageHeight,\n      pageWidth = _a.pageWidth,\n      rotation = _a.rotation,\n      onLoad = _a.onLoad;\n  var renderTask = React__namespace.useRef();\n\n  var _b = React__namespace.useState(''),\n      src = _b[0],\n      setSrc = _b[1];\n\n  React__namespace.useEffect(function () {\n    var task = renderTask.current;\n\n    if (task) {\n      task.cancel();\n    }\n\n    var printUnit = 150 / 72;\n    canvas.height = Math.floor(pageHeight * printUnit);\n    canvas.width = Math.floor(pageWidth * printUnit);\n    var canvasContext = canvas.getContext('2d');\n    canvasContext.save();\n    canvasContext.fillStyle = 'rgb(255, 255, 255)';\n    canvasContext.fillRect(0, 0, canvas.width, canvas.height);\n    canvasContext.restore();\n    var viewport = page.getViewport({\n      rotation: rotation,\n      scale: 1\n    });\n    renderTask.current = page.render({\n      canvasContext: canvasContext,\n      intent: 'print',\n      transform: [printUnit, 0, 0, printUnit, 0, 0],\n      viewport: viewport\n    });\n    renderTask.current.promise.then(function () {\n      'toBlob' in canvas ? canvas.toBlob(function (blob) {\n        setSrc(URL.createObjectURL(blob));\n      }) : setSrc(canvas.toDataURL());\n    }, function () {});\n  }, []);\n  return src && React__namespace.createElement(\"div\", {\n    className: \"rpv-print__page\"\n  }, React__namespace.createElement(\"img\", {\n    src: src,\n    onLoad: function () {\n      return onLoad();\n    }\n  }));\n};\n\nvar PageThumbnailContainer = function (_a) {\n  var canvas = _a.canvas,\n      doc = _a.doc,\n      pageHeight = _a.pageHeight,\n      pageIndex = _a.pageIndex,\n      pageWidth = _a.pageWidth,\n      rotation = _a.rotation,\n      onLoad = _a.onLoad;\n\n  var _b = React__namespace.useState({\n    height: pageHeight,\n    page: null,\n    viewportRotation: 0,\n    width: pageWidth\n  }),\n      pageSize = _b[0],\n      setPageSize = _b[1];\n\n  var page = pageSize.page,\n      height = pageSize.height,\n      width = pageSize.width;\n  var isVertical = Math.abs(rotation) % 180 === 0;\n  React__namespace.useEffect(function () {\n    doc.getPage(pageIndex + 1).then(function (pdfPage) {\n      var viewport = pdfPage.getViewport({\n        scale: 1\n      });\n      setPageSize({\n        height: viewport.height,\n        page: pdfPage,\n        viewportRotation: viewport.rotation,\n        width: viewport.width\n      });\n    });\n  }, []);\n  var rotationNumber = (rotation + pageSize.viewportRotation) % 360;\n  return page && React__namespace.createElement(PageThumbnail, {\n    canvas: canvas,\n    page: page,\n    pageHeight: isVertical ? height : width,\n    pageWidth: isVertical ? width : height,\n    rotation: rotationNumber,\n    onLoad: onLoad\n  });\n};\n\nvar PrintZone = function (_a) {\n  var doc = _a.doc,\n      numLoadedPages = _a.numLoadedPages,\n      pageHeight = _a.pageHeight,\n      pageWidth = _a.pageWidth,\n      printStatus = _a.printStatus,\n      rotation = _a.rotation,\n      onCancel = _a.onCancel,\n      onLoad = _a.onLoad;\n  var canvas = React__namespace.useMemo(function () {\n    return document.createElement('canvas');\n  }, []);\n  var container = React__namespace.useMemo(function () {\n    var div = document.createElement('div');\n    div.classList.add('rpv-print__zone');\n    document.body.appendChild(div);\n    return div;\n  }, []);\n  React__namespace.useEffect(function () {\n    if (printStatus === PrintStatus$1.Ready) {\n      document.documentElement.classList.add('rpv-print__html-printing');\n      document.body.classList.add('rpv-print__body-printing');\n      window.print();\n    }\n\n    var handler = function () {\n      if (printStatus === PrintStatus$1.Ready) {\n        document.documentElement.classList.remove('rpv-print__html-printing');\n        document.body.classList.remove('rpv-print__body-printing');\n\n        if (container.parentElement) {\n          container.parentElement.removeChild(container);\n        }\n\n        canvas.height = 0;\n        canvas.width = 0;\n        document.removeEventListener('mousemove', handler);\n        onCancel();\n      }\n    };\n\n    document.addEventListener('mousemove', handler);\n    return function () {\n      return document.removeEventListener('mousemove', handler);\n    };\n  }, [printStatus]);\n  return reactDom.createPortal(React__namespace.createElement(React__namespace.Fragment, null, Array(Math.min(numLoadedPages + 1, doc.numPages)).fill(0).map(function (_, index) {\n    return React__namespace.createElement(PageThumbnailContainer, {\n      key: index,\n      canvas: canvas,\n      doc: doc,\n      pageHeight: pageHeight,\n      pageIndex: index,\n      pageWidth: pageWidth,\n      rotation: rotation,\n      onLoad: onLoad\n    });\n  }), React__namespace.createElement(\"style\", {\n    dangerouslySetInnerHTML: {\n      __html: \"@page { size: \" + pageWidth + \"pt \" + pageHeight + \"pt }\"\n    }\n  })), container);\n};\n\nvar PrintContainer = function (_a) {\n  var doc = _a.doc,\n      pageHeight = _a.pageHeight,\n      pageWidth = _a.pageWidth,\n      rotation = _a.rotation,\n      store = _a.store;\n\n  var _b = React__namespace.useState(PrintStatus$1.Inactive),\n      printStatus = _b[0],\n      setPrintStatus = _b[1];\n\n  var _c = React__namespace.useState(0),\n      numLoadedPagesForPrint = _c[0],\n      setNumLoadedPagesForPrint = _c[1];\n\n  var cancelPrinting = function () {\n    setNumLoadedPagesForPrint(0);\n    setPrintStatus(PrintStatus$1.Inactive);\n  };\n\n  var handlePrintStatus = function (status) {\n    return setPrintStatus(status);\n  };\n\n  var onLoadPage = function () {\n    var total = numLoadedPagesForPrint + 1;\n\n    if (total <= doc.numPages) {\n      setNumLoadedPagesForPrint(total);\n      total === doc.numPages && setPrintStatus(PrintStatus$1.Ready);\n    }\n  };\n\n  React__namespace.useEffect(function () {\n    store.subscribe('printStatus', handlePrintStatus);\n    return function () {\n      store.unsubscribe('printStatus', handlePrintStatus);\n    };\n  }, []);\n  return React__namespace.createElement(React__namespace.Fragment, null, printStatus === PrintStatus$1.Preparing && React__namespace.createElement(PrintProgress, {\n    numLoadedPages: numLoadedPagesForPrint,\n    numPages: doc.numPages,\n    onCancel: cancelPrinting\n  }), (printStatus === PrintStatus$1.Preparing || printStatus === PrintStatus$1.Ready) && numLoadedPagesForPrint <= doc.numPages && React__namespace.createElement(PrintZone, {\n    doc: doc,\n    numLoadedPages: numLoadedPagesForPrint,\n    pageHeight: pageHeight,\n    pageWidth: pageWidth,\n    printStatus: printStatus,\n    rotation: rotation,\n    onCancel: cancelPrinting,\n    onLoad: onLoadPage\n  }));\n};\n\nvar PrintMenuItem = function (_a) {\n  var onClick = _a.onClick;\n  var l10n = React__namespace.useContext(core.LocalizationContext);\n  var label = l10n && l10n.print ? l10n.print.print : 'Print';\n  return React__namespace.createElement(core.MenuItem, {\n    icon: React__namespace.createElement(PrintIcon, null),\n    onClick: onClick\n  }, label);\n};\n\nvar isMac = function () {\n  return typeof window !== 'undefined' ? /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform) : false;\n};\n\nvar ShortcutHandler = function (_a) {\n  var containerRef = _a.containerRef,\n      store = _a.store;\n\n  var keydownHandler = function (e) {\n    if (e.shiftKey || e.altKey || e.key !== 'p') {\n      return;\n    }\n\n    var isCommandPressed = isMac() ? e.metaKey : e.ctrlKey;\n\n    if (!isCommandPressed) {\n      return;\n    }\n\n    var containerEle = containerRef.current;\n\n    if (!containerEle || !document.activeElement || !document.activeElement.contains(containerEle)) {\n      return;\n    }\n\n    e.preventDefault();\n    store.update('printStatus', PrintStatus$1.Preparing);\n  };\n\n  React__namespace.useEffect(function () {\n    var containerEle = containerRef.current;\n\n    if (!containerEle) {\n      return;\n    }\n\n    document.addEventListener('keydown', keydownHandler);\n    return function () {\n      document.removeEventListener('keydown', keydownHandler);\n    };\n  }, [containerRef.current]);\n  return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar printPlugin = function (props) {\n  var printPluginProps = React__namespace.useMemo(function () {\n    return Object.assign({}, {\n      enableShortcuts: true\n    }, props);\n  }, []);\n  var store = React__namespace.useMemo(function () {\n    return core.createStore({\n      printStatus: PrintStatus$1.Inactive\n    });\n  }, []);\n\n  var PrintDecorator = function (props) {\n    return React__namespace.createElement(Print, __assign({}, props, {\n      store: store\n    }));\n  };\n\n  var PrintButtonDecorator = function () {\n    return React__namespace.createElement(PrintDecorator, null, function (props) {\n      return React__namespace.createElement(PrintButton, __assign({}, props));\n    });\n  };\n\n  var PrintMenuItemDecorator = function (props) {\n    return React__namespace.createElement(PrintDecorator, null, function (p) {\n      return React__namespace.createElement(PrintMenuItem, {\n        onClick: function () {\n          p.onClick();\n          props.onClick();\n        }\n      });\n    });\n  };\n\n  var renderViewer = function (props) {\n    var slot = props.slot;\n    var updateSlot = {\n      children: React__namespace.createElement(React__namespace.Fragment, null, printPluginProps.enableShortcuts && React__namespace.createElement(ShortcutHandler, {\n        containerRef: props.containerRef,\n        store: store\n      }), React__namespace.createElement(PrintContainer, {\n        doc: props.doc,\n        pageHeight: props.pageHeight,\n        pageWidth: props.pageWidth,\n        rotation: props.rotation,\n        store: store\n      }), slot.children)\n    };\n    return __assign(__assign({}, slot), updateSlot);\n  };\n\n  return {\n    renderViewer: renderViewer,\n    Print: PrintDecorator,\n    PrintButton: PrintButtonDecorator,\n    PrintMenuItem: PrintMenuItemDecorator\n  };\n};\n\nexports.PrintIcon = PrintIcon;\nexports.printPlugin = printPlugin;","map":{"version":3,"sources":["/Users/kzjouf/Desktop/project/sc-dapp/node_modules/@react-pdf-viewer/print/lib/cjs/print.js"],"names":["Object","defineProperty","exports","value","React","require","core","reactDom","_interopNamespace","e","__esModule","n","create","keys","forEach","k","d","getOwnPropertyDescriptor","get","enumerable","freeze","React__namespace","PrintIcon","createElement","Icon","size","__assign","assign","t","s","i","arguments","length","p","prototype","hasOwnProperty","call","apply","TOOLTIP_OFFSET","left","top","PrintButton","_a","onClick","l10n","useContext","LocalizationContext","label","print","Tooltip","position","Position","BottomCenter","target","MinimalButton","content","offset","PrintStatus","PrintStatus$1","Print","children","store","update","Preparing","defaultChildern","props","render","PrintProgress","numLoadedPages","numPages","onCancel","progress","Math","floor","className","preparingDocument","ProgressBar","Button","cancel","PageThumbnail","canvas","page","pageHeight","pageWidth","rotation","onLoad","renderTask","useRef","_b","useState","src","setSrc","useEffect","task","current","printUnit","height","width","canvasContext","getContext","save","fillStyle","fillRect","restore","viewport","getViewport","scale","intent","transform","promise","then","toBlob","blob","URL","createObjectURL","toDataURL","PageThumbnailContainer","doc","pageIndex","viewportRotation","pageSize","setPageSize","isVertical","abs","getPage","pdfPage","rotationNumber","PrintZone","printStatus","useMemo","document","container","div","classList","add","body","appendChild","Ready","documentElement","window","handler","remove","parentElement","removeChild","removeEventListener","addEventListener","createPortal","Fragment","Array","min","fill","map","_","index","key","dangerouslySetInnerHTML","__html","PrintContainer","Inactive","setPrintStatus","_c","numLoadedPagesForPrint","setNumLoadedPagesForPrint","cancelPrinting","handlePrintStatus","status","onLoadPage","total","subscribe","unsubscribe","PrintMenuItem","MenuItem","icon","isMac","test","navigator","platform","ShortcutHandler","containerRef","keydownHandler","shiftKey","altKey","isCommandPressed","metaKey","ctrlKey","containerEle","activeElement","contains","preventDefault","printPlugin","printPluginProps","enableShortcuts","createStore","PrintDecorator","PrintButtonDecorator","PrintMenuItemDecorator","renderViewer","slot","updateSlot"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar React = require('react');\nvar core = require('@react-pdf-viewer/core');\nvar reactDom = require('react-dom');\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () {\n                        return e[k];\n                    }\n                });\n            }\n        });\n    }\n    n['default'] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar PrintIcon = function () {\n    return (React__namespace.createElement(core.Icon, { size: 16 },\n        React__namespace.createElement(\"path\", { d: \"M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19\\n                c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3\\n                M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414\\n                C18.395,3.394,18.5,3.649,18.5,3.914V4.5\\n                M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z\\n                M3.5,8.499\\n                c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z\\n                M14.5,0.499v4h4\" })));\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\nvar PrintButton = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext);\n    var label = l10n && l10n.print ? l10n.print.print : 'Print';\n    return (React__namespace.createElement(core.Tooltip, { position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { onClick: onClick },\n            React__namespace.createElement(PrintIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\n};\n\nvar PrintStatus;\n(function (PrintStatus) {\n    PrintStatus[\"Inactive\"] = \"Inactive\";\n    PrintStatus[\"Preparing\"] = \"Preparing\";\n    PrintStatus[\"Cancelled\"] = \"Cancelled\";\n    PrintStatus[\"Ready\"] = \"Ready\";\n})(PrintStatus || (PrintStatus = {}));\nvar PrintStatus$1 = PrintStatus;\n\nvar Print = function (_a) {\n    var children = _a.children, store = _a.store;\n    var print = function () {\n        store.update('printStatus', PrintStatus$1.Preparing);\n    };\n    var defaultChildern = function (props) { return React__namespace.createElement(PrintButton, { onClick: props.onClick }); };\n    var render = children || defaultChildern;\n    return render({\n        onClick: print,\n    });\n};\n\nvar PrintProgress = function (_a) {\n    var numLoadedPages = _a.numLoadedPages, numPages = _a.numPages, onCancel = _a.onCancel;\n    var l10n = React__namespace.useContext(core.LocalizationContext);\n    var progress = Math.floor((numLoadedPages * 100) / numPages);\n    return (React__namespace.createElement(\"div\", { className: \"rpv-print__progress\" },\n        React__namespace.createElement(\"div\", { className: \"rpv-print__progress-body\" },\n            React__namespace.createElement(\"div\", { className: \"rpv-print__progress-message\" }, l10n && l10n.print ? l10n.print.preparingDocument : 'Preparing document ...'),\n            React__namespace.createElement(\"div\", { className: \"rpv-print__progress-bar\" },\n                React__namespace.createElement(core.ProgressBar, { progress: progress })),\n            React__namespace.createElement(core.Button, { onClick: onCancel }, l10n && l10n.print ? l10n.print.cancel : 'Cancel'))));\n};\n\nvar PageThumbnail = function (_a) {\n    var canvas = _a.canvas, page = _a.page, pageHeight = _a.pageHeight, pageWidth = _a.pageWidth, rotation = _a.rotation, onLoad = _a.onLoad;\n    var renderTask = React__namespace.useRef();\n    var _b = React__namespace.useState(''), src = _b[0], setSrc = _b[1];\n    React__namespace.useEffect(function () {\n        var task = renderTask.current;\n        if (task) {\n            task.cancel();\n        }\n        var printUnit = 150 / 72;\n        canvas.height = Math.floor(pageHeight * printUnit);\n        canvas.width = Math.floor(pageWidth * printUnit);\n        var canvasContext = canvas.getContext('2d');\n        canvasContext.save();\n        canvasContext.fillStyle = 'rgb(255, 255, 255)';\n        canvasContext.fillRect(0, 0, canvas.width, canvas.height);\n        canvasContext.restore();\n        var viewport = page.getViewport({ rotation: rotation, scale: 1 });\n        renderTask.current = page.render({\n            canvasContext: canvasContext,\n            intent: 'print',\n            transform: [printUnit, 0, 0, printUnit, 0, 0],\n            viewport: viewport,\n        });\n        renderTask.current.promise.then(function () {\n            'toBlob' in canvas\n                ? canvas.toBlob(function (blob) {\n                    setSrc(URL.createObjectURL(blob));\n                })\n                : setSrc(canvas.toDataURL());\n        }, function () {\n        });\n    }, []);\n    return (src && (React__namespace.createElement(\"div\", { className: \"rpv-print__page\" },\n        React__namespace.createElement(\"img\", { src: src, onLoad: function () { return onLoad(); } }))));\n};\n\nvar PageThumbnailContainer = function (_a) {\n    var canvas = _a.canvas, doc = _a.doc, pageHeight = _a.pageHeight, pageIndex = _a.pageIndex, pageWidth = _a.pageWidth, rotation = _a.rotation, onLoad = _a.onLoad;\n    var _b = React__namespace.useState({\n        height: pageHeight,\n        page: null,\n        viewportRotation: 0,\n        width: pageWidth,\n    }), pageSize = _b[0], setPageSize = _b[1];\n    var page = pageSize.page, height = pageSize.height, width = pageSize.width;\n    var isVertical = Math.abs(rotation) % 180 === 0;\n    React__namespace.useEffect(function () {\n        doc.getPage(pageIndex + 1).then(function (pdfPage) {\n            var viewport = pdfPage.getViewport({ scale: 1 });\n            setPageSize({\n                height: viewport.height,\n                page: pdfPage,\n                viewportRotation: viewport.rotation,\n                width: viewport.width,\n            });\n        });\n    }, []);\n    var rotationNumber = (rotation + pageSize.viewportRotation) % 360;\n    return (page && (React__namespace.createElement(PageThumbnail, { canvas: canvas, page: page, pageHeight: isVertical ? height : width, pageWidth: isVertical ? width : height, rotation: rotationNumber, onLoad: onLoad })));\n};\n\nvar PrintZone = function (_a) {\n    var doc = _a.doc, numLoadedPages = _a.numLoadedPages, pageHeight = _a.pageHeight, pageWidth = _a.pageWidth, printStatus = _a.printStatus, rotation = _a.rotation, onCancel = _a.onCancel, onLoad = _a.onLoad;\n    var canvas = React__namespace.useMemo(function () { return document.createElement('canvas'); }, []);\n    var container = React__namespace.useMemo(function () {\n        var div = document.createElement('div');\n        div.classList.add('rpv-print__zone');\n        document.body.appendChild(div);\n        return div;\n    }, []);\n    React__namespace.useEffect(function () {\n        if (printStatus === PrintStatus$1.Ready) {\n            document.documentElement.classList.add('rpv-print__html-printing');\n            document.body.classList.add('rpv-print__body-printing');\n            window.print();\n        }\n        var handler = function () {\n            if (printStatus === PrintStatus$1.Ready) {\n                document.documentElement.classList.remove('rpv-print__html-printing');\n                document.body.classList.remove('rpv-print__body-printing');\n                if (container.parentElement) {\n                    container.parentElement.removeChild(container);\n                }\n                canvas.height = 0;\n                canvas.width = 0;\n                document.removeEventListener('mousemove', handler);\n                onCancel();\n            }\n        };\n        document.addEventListener('mousemove', handler);\n        return function () { return document.removeEventListener('mousemove', handler); };\n    }, [printStatus]);\n    return reactDom.createPortal(React__namespace.createElement(React__namespace.Fragment, null,\n        Array(Math.min(numLoadedPages + 1, doc.numPages))\n            .fill(0)\n            .map(function (_, index) { return (React__namespace.createElement(PageThumbnailContainer, { key: index, canvas: canvas, doc: doc, pageHeight: pageHeight, pageIndex: index, pageWidth: pageWidth, rotation: rotation, onLoad: onLoad })); }),\n        React__namespace.createElement(\"style\", { dangerouslySetInnerHTML: {\n                __html: \"@page { size: \" + pageWidth + \"pt \" + pageHeight + \"pt }\",\n            } })), container);\n};\n\nvar PrintContainer = function (_a) {\n    var doc = _a.doc, pageHeight = _a.pageHeight, pageWidth = _a.pageWidth, rotation = _a.rotation, store = _a.store;\n    var _b = React__namespace.useState(PrintStatus$1.Inactive), printStatus = _b[0], setPrintStatus = _b[1];\n    var _c = React__namespace.useState(0), numLoadedPagesForPrint = _c[0], setNumLoadedPagesForPrint = _c[1];\n    var cancelPrinting = function () {\n        setNumLoadedPagesForPrint(0);\n        setPrintStatus(PrintStatus$1.Inactive);\n    };\n    var handlePrintStatus = function (status) { return setPrintStatus(status); };\n    var onLoadPage = function () {\n        var total = numLoadedPagesForPrint + 1;\n        if (total <= doc.numPages) {\n            setNumLoadedPagesForPrint(total);\n            total === doc.numPages && setPrintStatus(PrintStatus$1.Ready);\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('printStatus', handlePrintStatus);\n        return function () {\n            store.unsubscribe('printStatus', handlePrintStatus);\n        };\n    }, []);\n    return (React__namespace.createElement(React__namespace.Fragment, null,\n        printStatus === PrintStatus$1.Preparing && (React__namespace.createElement(PrintProgress, { numLoadedPages: numLoadedPagesForPrint, numPages: doc.numPages, onCancel: cancelPrinting })),\n        (printStatus === PrintStatus$1.Preparing || printStatus === PrintStatus$1.Ready) &&\n            numLoadedPagesForPrint <= doc.numPages && (React__namespace.createElement(PrintZone, { doc: doc, numLoadedPages: numLoadedPagesForPrint, pageHeight: pageHeight, pageWidth: pageWidth, printStatus: printStatus, rotation: rotation, onCancel: cancelPrinting, onLoad: onLoadPage }))));\n};\n\nvar PrintMenuItem = function (_a) {\n    var onClick = _a.onClick;\n    var l10n = React__namespace.useContext(core.LocalizationContext);\n    var label = l10n && l10n.print ? l10n.print.print : 'Print';\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(PrintIcon, null), onClick: onClick }, label));\n};\n\nvar isMac = function () { return (typeof window !== 'undefined' ? /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform) : false); };\nvar ShortcutHandler = function (_a) {\n    var containerRef = _a.containerRef, store = _a.store;\n    var keydownHandler = function (e) {\n        if (e.shiftKey || e.altKey || e.key !== 'p') {\n            return;\n        }\n        var isCommandPressed = isMac() ? e.metaKey : e.ctrlKey;\n        if (!isCommandPressed) {\n            return;\n        }\n        var containerEle = containerRef.current;\n        if (!containerEle || !document.activeElement || !document.activeElement.contains(containerEle)) {\n            return;\n        }\n        e.preventDefault();\n        store.update('printStatus', PrintStatus$1.Preparing);\n    };\n    React__namespace.useEffect(function () {\n        var containerEle = containerRef.current;\n        if (!containerEle) {\n            return;\n        }\n        document.addEventListener('keydown', keydownHandler);\n        return function () {\n            document.removeEventListener('keydown', keydownHandler);\n        };\n    }, [containerRef.current]);\n    return React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar printPlugin = function (props) {\n    var printPluginProps = React__namespace.useMemo(function () { return Object.assign({}, { enableShortcuts: true }, props); }, []);\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            printStatus: PrintStatus$1.Inactive,\n        });\n    }, []);\n    var PrintDecorator = function (props) { return React__namespace.createElement(Print, __assign({}, props, { store: store })); };\n    var PrintButtonDecorator = function () { return React__namespace.createElement(PrintDecorator, null, function (props) { return React__namespace.createElement(PrintButton, __assign({}, props)); }); };\n    var PrintMenuItemDecorator = function (props) { return (React__namespace.createElement(PrintDecorator, null, function (p) { return (React__namespace.createElement(PrintMenuItem, { onClick: function () {\n            p.onClick();\n            props.onClick();\n        } })); })); };\n    var renderViewer = function (props) {\n        var slot = props.slot;\n        var updateSlot = {\n            children: (React__namespace.createElement(React__namespace.Fragment, null,\n                printPluginProps.enableShortcuts && (React__namespace.createElement(ShortcutHandler, { containerRef: props.containerRef, store: store })),\n                React__namespace.createElement(PrintContainer, { doc: props.doc, pageHeight: props.pageHeight, pageWidth: props.pageWidth, rotation: props.rotation, store: store }),\n                slot.children)),\n        };\n        return __assign(__assign({}, slot), updateSlot);\n    };\n    return {\n        renderViewer: renderViewer,\n        Print: PrintDecorator,\n        PrintButton: PrintButtonDecorator,\n        PrintMenuItem: PrintMenuItemDecorator,\n    };\n};\n\nexports.PrintIcon = PrintIcon;\nexports.printPlugin = printPlugin;\n"]},"metadata":{},"sourceType":"script"}