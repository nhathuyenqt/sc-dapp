{"ast":null,"code":"var _jsxFileName = \"/Users/kzjouf/Desktop/project/scdapp/src/pages/components/QRscanner.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport QRCode from \"react-qr-code\";\nimport { useState, useRef } from 'react';\nimport QrReader from 'react-qr-reader';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DealTransfer from './DealTransfer.js';\nimport { Typography, Button, Card, CircularProgress, Container, CardActions, Grid, CardContent, TextField } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction QRscanner(props) {\n  _s();\n\n  const [text, setText] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n  const [scanResultFile, setScanResultFile] = useState('');\n  const [scanResultWebCam, setScanResultWebCam] = useState('');\n  const [deal, setDeal] = useState('');\n  const [openPay, setOpenPay] = useState(false);\n  const qrRef = useRef(null);\n  const {\n    onClose,\n    open,\n    setData\n  } = props;\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  const handleClosePay = () => {\n    setOpenPay(false); // setDeal(\"\");\n\n    onClose();\n  };\n\n  const onScanFile = () => {\n    qrRef.current.openImageDialog();\n  };\n\n  const handleErrorWebCam = error => {\n    console.log(error);\n  };\n\n  const handleScanWebCam = result => {\n    if (result) {\n      try {\n        let deal = JSON.parse(result);\n\n        if (deal.code) {\n          setDeal(deal);\n          setOpenPay(true);\n        }\n\n        console.log(\"DEAL\");\n      } catch (e) {\n        console.log(\"Recipent\");\n        setScanResultWebCam(result);\n        setData(result);\n        onClose();\n      }\n    }\n  };\n\n  const handleErrorFile = error => {\n    console.log(error);\n  };\n\n  const handleScanFile = result => {\n    if (result) {\n      setScanResultFile(result);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    \"aria-labelledby\": \"alert-dialog-title\",\n    fullWidth: true,\n    maxWidth: \"xs\",\n    onClose: handleClose,\n    open: open,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      style: {\n        backgroundColor: 'rgba(220, 241, 229, 0.57)',\n        color: 'rgba(9, 91, 11, 0.86)'\n      },\n      id: \"alert-dialog-title\",\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        fullWidth: true,\n        margin: \"dense\",\n        variant: \"subtitle1\",\n        children: \"Scan public key of Recipient\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          value: value,\n          onChange: handleChange,\n          \"aria-label\": \"simple tabs example\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Item One\",\n            ...a11yProps(0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Item Two\",\n            ...a11yProps(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Item Three\",\n            ...a11yProps(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 0,\n        children: \"Item One\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 1,\n        children: \"Item Two\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 2,\n        children: \"Item Three\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(QRscanner, \"3vevgIKK+9z0poFNArLYr3ftPM8=\");\n\n_c = QRscanner;\nQRscanner.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  setData: PropTypes.func.isRequired\n};\nexport default QRscanner;\n\nvar _c;\n\n$RefreshReg$(_c, \"QRscanner\");","map":{"version":3,"sources":["/Users/kzjouf/Desktop/project/scdapp/src/pages/components/QRscanner.js"],"names":["React","QRCode","useState","useRef","QrReader","PropTypes","Dialog","DialogTitle","DealTransfer","Typography","Button","Card","CircularProgress","Container","CardActions","Grid","CardContent","TextField","AppBar","Tabs","Tab","QRscanner","props","text","setText","imageUrl","setImageUrl","scanResultFile","setScanResultFile","scanResultWebCam","setScanResultWebCam","deal","setDeal","openPay","setOpenPay","qrRef","onClose","open","setData","handleClose","handleClosePay","onScanFile","current","openImageDialog","handleErrorWebCam","error","console","log","handleScanWebCam","result","JSON","parse","code","e","handleErrorFile","handleScanFile","backgroundColor","color","value","handleChange","a11yProps","propTypes","func","isRequired","bool"],"mappings":"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","sourcesContent":["import React from 'react'\nimport QRCode from \"react-qr-code\";\nimport {useState, useRef} from 'react'\nimport QrReader from 'react-qr-reader';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DealTransfer from './DealTransfer.js';\nimport {Typography, Button, Card,  CircularProgress, Container, CardActions, Grid, CardContent, TextField} from '@material-ui/core'\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nfunction QRscanner(props) {\n\n  const [text, setText] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n  const [scanResultFile, setScanResultFile] = useState('');\n  const [scanResultWebCam, setScanResultWebCam] =  useState('');\n  const [deal, setDeal]  = useState('');\n  const [openPay, setOpenPay]  = useState(false);\n  const qrRef = useRef(null);\n\n  const { onClose, open, setData } = props;\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  const handleClosePay = () => {\n    setOpenPay(false);\n    // setDeal(\"\");\n    onClose();\n  };\n\n  const onScanFile = () => {\n    qrRef.current.openImageDialog();\n  }\n  const handleErrorWebCam = (error) => {\n    console.log(error);\n  }\n  const handleScanWebCam = (result) => {\n    \n    if (result){\n        try {\n          let deal = JSON.parse(result)\n          if (deal.code){\n            setDeal(deal);\n            setOpenPay(true);\n          }\n          console.log(\"DEAL\")\n        } catch (e) {\n          console.log(\"Recipent\")\n          setScanResultWebCam(result);\n          setData(result);\n          onClose();\n        }\n  \n    }\n  }\n\n  const handleErrorFile = (error) => {\n    console.log(error);\n  }\n  const handleScanFile = (result) => {\n      if (result) {\n          setScanResultFile(result);\n      }\n  }\n  \n  return (\n    <Dialog aria-labelledby=\"alert-dialog-title\" fullWidth maxWidth='xs' onClose={handleClose} open={open}>\n          <DialogTitle  style={{ backgroundColor: 'rgba(220, 241, 229, 0.57)', color: 'rgba(9, 91, 11, 0.86)' }} id=\"alert-dialog-title\">\n              <Typography fullWidth margin=\"dense\" variant=\"subtitle1\" >Scan public key of Recipient</Typography>\n          </DialogTitle>\n          <div >\n          <AppBar position=\"static\">\n            <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n              <Tab label=\"Item One\" {...a11yProps(0)} />\n              <Tab label=\"Item Two\" {...a11yProps(1)} />\n              <Tab label=\"Item Three\" {...a11yProps(2)} />\n            </Tabs>\n          </AppBar>\n          <TabPanel value={value} index={0}>\n            Item One\n          </TabPanel>\n          <TabPanel value={value} index={1}>\n            Item Two\n          </TabPanel>\n          <TabPanel value={value} index={2}>\n            Item Three\n          </TabPanel>\n        </div>\n\n          {/* <QrReader\n          delay={300}\n          style={{width: '100%'}}\n          onError={handleErrorWebCam}\n          onScan={handleScanWebCam}\n            />\n          <div>\n            <Button variant=\"contained\" color=\"secondary\" onClick={onScanFile}>Scan Qr Code</Button>\n            <QrReader\n              ref={qrRef}\n              delay={300}\n              style={{width: '100%'}}\n              onError={handleErrorFile}\n              onScan={handleScanFile}\n              legacyMode\n            />\n            <h3>Scanned Code: {scanResultFile}</h3>\n          </div>\n          \n          <Typography style={{display: 'flex', margin: '5px'}} align='center' gutterBottom variant = \"subtitle2\"> {scanResultWebCam}</Typography> \n          <DealTransfer deal = {deal} open={openPay} onClose={handleClosePay}/>   */}\n    </Dialog>\n  );\n}\n  \nQRscanner.propTypes = {\n   onClose: PropTypes.func.isRequired,\n   open: PropTypes.bool.isRequired,\n   setData : PropTypes.func.isRequired,\n };\n\nexport default QRscanner;"]},"metadata":{},"sourceType":"module"}